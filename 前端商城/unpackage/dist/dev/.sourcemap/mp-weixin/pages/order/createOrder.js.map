{"version":3,"sources":["webpack:///H:/办公/++黔域项目/如花2.0/如花前端2.0/main.js","webpack:///H:/办公/++黔域项目/如花2.0/如花前端2.0/pages/order/createOrder.vue?23ac","webpack:///H:/办公/++黔域项目/如花2.0/如花前端2.0/pages/order/createOrder.vue?72cd","webpack:///H:/办公/++黔域项目/如花2.0/如花前端2.0/pages/order/createOrder.vue?8d53","webpack:///H:/办公/++黔域项目/如花2.0/如花前端2.0/pages/order/createOrder.vue?f891","webpack:///H:/办公/++黔域项目/如花2.0/如花前端2.0/pages/order/createOrder.vue","webpack:///H:/办公/++黔域项目/如花2.0/如花前端2.0/pages/order/createOrder.vue?796e","webpack:///H:/办公/++黔域项目/如花2.0/如花前端2.0/pages/order/createOrder.vue?2079"],"names":["createPage","Page","data","coupon_id","save_cache","order_id","getimg","$getimg","maskState","desc","payType","yunfei_money","couponList","addressData","state","buy_data","address","paying","coupon_text","coupon_money","obj","msg","order_from","payment_type","total_price","shoping_price","coupon_price","discount","onLoad","option","uni","getStorageSync","arr","cache","x","k","v","console","log","radio","_load","onShow","$api","http","get","then","res","computed","goods_money","buy","total","price","num","pay_money","methods","get_yunfei","goods_id","post","toggleMask","type","timer","setTimeout","to_use","index","id","reduce","cancel_use","numberChange","number","changePayType","set_order_data","pro","sku","name","sku_id","sku_name","goods_name","json","check_sub_data","url","submit","order_data","order_json","removeStorageSync","setStorageSync","pay_data","pay","wxPay","WeixinJSBridge","document","addEventListener","jsApiCall","attachEvent","that","invoke","err_msg","redirectTo","requestPayment","provider","timeStamp","nonceStr","package","signType","paySign","success","JSON","stringify","fail","err","onPullDownRefresh","stopPullDownRefresh"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,yG;AACAA,UAAU,CAACC,oBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0F;AAC3B;AACL;AACc;;;AAGxE;AAC4K;AAC5K,gBAAgB,wKAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAu+B,CAAgB,44BAAG,EAAC,C;;;;;;;;;;;;s8BCA3/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACdC,MADc,kBACP;AACN,WAAO;AACNC,eAAS,EAAC,CADJ;AAENC,gBAAU,EAAC,EAFL;AAGNC,cAAQ,EAAE,CAHJ;AAINC,YA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","file":"pages/order/createOrder.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/order/createOrder.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./createOrder.vue?vue&type=template&id=cb82f1f8&\"\nimport script from \"./createOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./createOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./createOrder.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"H:\\\\安装包\\\\0环境+开发\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('cb82f1f8', component.options)\n    } else {\n      api.reload('cb82f1f8', component.options)\n    }\n    module.hot.accept(\"./createOrder.vue?vue&type=template&id=cb82f1f8&\", function () {\n      api.rerender('cb82f1f8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"办公/++黔域项目/如花2.0/如花前端2.0/pages/order/createOrder.vue\"\nexport default component.exports","export * from \"-!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=template&id=cb82f1f8&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn { \n\t\t\tcoupon_id:0,\n\t\t\tsave_cache:{},\n\t\t\torder_id: 0,\n\t\t\tgetimg: this.$getimg,\n\t\t\tmaskState: 0, //优惠券面板显示状态\n\t\t\tdesc: '', //备注\n\t\t\tpayType: 1, //1微信 2支付宝\n\t\t\tyunfei_money: 0, //运费\n\t\t\tcouponList: [],\n\t\t\taddressData: {},\n\t\t\tstate: '',\n\t\t\tbuy_data: '',\n\t\t\taddress: '',\n\t\t\tpaying: '', //防止多次提交订单\n\t\t\tcoupon_text: '选择优惠券',\n\t\t\tcoupon_money:0,  //优惠金额\t\t\t\t\n\t\t\tobj:{\n\t\t\t\tmsg: \"\",\n\t\t\t\torder_from: \"xcx\",\n\t\t\t\tpayment_type: \"wx\",\n\t\t\t\ttotal_price:\"\",\n\t\t\t\tshoping_price: \"\",\n\t\t\t\tcoupon_price: \"\",\n\t\t\t\tcoupon_id: 0,\n\t\t\t\tdiscount: \"\"\n\t\t\t}\n\n\t\t}\n\t},\n\tonLoad(option) {\n\t\tthis.state = option.state\n\t\tif (option.state == 'buy') {\n\t\t\tlet buy_data = uni.getStorageSync('buy')\n\t\t\tthis.buy_data = buy_data\n\t\t}\n\t\tif (option.state == 'car') {\n\t\t\tlet buy_data = uni.getStorageSync('cart')\n\t\t\tlet arr=[]\n\t\t\tlet cache={}\n\t\t\tlet x=0 \n\t\t\tfor(let k in buy_data){\n\t\t\t\tconst v=buy_data[k]\n\t\t\t\tconsole.log(k,v)\n\t\t\t\tif(v.radio){\n\t\t\t\t\tarr[x]=v\t//购物车中选中的商品\n\t\t\t\t\tx++\n\t\t\t\t}else{\n\t\t\t\t\tcache[k]=v  //购物车未选中的商品 \n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.buy_data = arr\n\t\t\tthis.save_cache=cache\n\t\t}\n\n\t\tconsole.log('onLoad', this.buy_data)\n\t\tthis._load()\n\t\t//商品数据s\n\t\t//let data = JSON.parse(option.data);\n\t\t//console.log(data);\n\t},\n\tonShow() {\n\t\tthis.$api.http.get('address/get_default_address').then(res => {\n\t\t\tthis.address = res.data\n\t\t})\n\t},\n\tcomputed: {\n\t\t//商品金额\n\t\tgoods_money() { \n\t\t\tconst buy = this.buy_data\n\t\t\tlet total = 0\n\t\t\tfor (let k in buy) {\n\t\t\t\tconst v = buy[k]\n\t\t\t\ttotal += v.price * v.num\n\t\t\t}\n\t\t\treturn total;\n\t\t},\n\t\t//订单应付金额\n\t\tpay_money() { \n\t\t\treturn this.goods_money+this.yunfei_money-this.coupon_money;\n\t\t}\n\t},\n\tmethods: {\n\t\t_load() {\n\t\t\tconsole.log('load')\n\t\t\tthis.$api.http.get('coupon/user/get_coupon').then(res => {\n\t\t\t\tthis.couponList = res.data\n\t\t\t})\n\t\t\tthis.get_yunfei()\n\t\t},\n\t\t//获取运费\n\t\tget_yunfei() {\n\t\t\tconsole.log('get_yunfei',this.buy_data)\n\t\t\tconst buy_data = this.buy_data\n\t\t\tlet obj = []\n\t\t\tfor (let k in buy_data) {\n\t\t\t\tconst v = buy_data[k]\n\t\t\t\tobj[k] = {}\n\t\t\t\tobj[k]['goods_id'] = v.goods_id\n\t\t\t\tobj[k]['num'] = v.num\n\t\t\t    console.log('v:',obj)\n\t\t\t}\n\t\t\tconsole.log('get_obj',obj)\n\t\t\tthis.$api.http.post('product/get_shipment_price', obj).then(res => {\n\t\t\t\tthis.yunfei_money = res.data\n\t\t\t})\n\t\t},\n\t\t//显示优惠券面板\n\t\ttoggleMask(type) {\n\t\t\tlet timer = type === 'show' ? 10 : 300;\n\t\t\tlet state = type === 'show' ? 1 : 0;\n\t\t\tthis.maskState = 2;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.maskState = state;\n\t\t\t}, timer)\n\t\t},\n\t\t//使用优惠券\n\t\tto_use(index) {\n\t\t\tthis.maskState = 0\n\t\t\tthis.coupon_id=this.couponList[index].id?this.couponList[index].id:0\n\t\t\tconst reduce=this.couponList[index].reduce\n\t\t\tthis.coupon_money=reduce\n\t\t\tthis.coupon_text = '已优惠' + reduce + '元'\n\t\t},\n\t\t//取消使用优惠券\n\t\tcancel_use() {\n\t\t\tthis.maskState = 0\n\t\t\tthis.coupon_id=0\n\t\t\tthis.coupon_money=0\n\t\t\tthis.coupon_text = '选择优惠券'\n\t\t},\n\t\tnumberChange(data) {\n\t\t\tthis.number = data.number;\n\t\t},\n\t\tchangePayType(type) {\n\t\t\tthis.payType = type;\n\t\t},\n\t\t//设置订单数据\n\t\tset_order_data() { \n\t\t\tlet obj = this.obj\t\t\t\t\n\t\t\tobj.total_price=this.pay_money\t\t\t\t\n\t\t\tobj.shoping_price=this.yunfei_money\t\t\t\n\t\t\tobj.coupon_price=this.coupon_money\t\t\t\t\n\t\t\tobj.coupon_id=this.coupon_id\t\n\t\t\t\t\t\t\n\t\t\tlet pro=this.buy_data  \n\t\t\tlet sku={}\n\t\t\tfor (let k in pro) {\n\t\t\t\tconst v=pro[k]  \n\t\t\t\tlet name=v.goods_id\n\t\t\t\tif(v.sku){\t\t\t\t\t\t\n\t\t\t\t\tname=v.goods_id +'-'+ v.sku.id\n\t\t\t\t}\n\t\t\t\tsku[name]=v\n\t\t\t\tsku[name].sku_id=0\n\t\t\t\tif(v.sku){ \n\t\t\t\t\tsku[name].sku_id=v.sku.id\t\t\n\t\t\t\t} \t\n\t\t\t\tdelete sku[name].radio\n\t\t\t\tdelete sku[name].sku\n\t\t\t\tdelete sku[name].sku_name\n\t\t\t\tdelete sku[name].goods_name\n\t\t\t} \n\t\t\tobj.json=sku\n\t\t\tconsole.log('obj',obj)\n\t\t\treturn obj;\n\t\t},\n\t\tcheck_sub_data() {\n\t\t\tif (!this.address) {\n\t\t\t\tthis.$api.msg('未填写地址')\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.paying) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet url = ''\n\n\t\t\turl = 'order/create'\n\n\n\n\n\t\t\tconsole.log('url:',url)\n\t\t\treturn url \n\t\t},\n\t\t//创建订单\n\t\tasync submit() {\n\t\t\tconst url=this.check_sub_data()\n\t\t\tif (!url) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst order_data = this.set_order_data()  \n\t\t\tthis.paying = true\n\t\t\tconst order_json = await this.$api.http.post(url, order_data).then(res => { \n\t\t\t\treturn res\n\t\t\t})\n\t\t\tif(this.state=='buy'){\n\t\t\t\tuni.removeStorageSync('buy')\n\t\t\t}else{\n\t\t\t\tuni.removeStorageSync('cart')\n\t\t\t\tuni.setStorageSync('cart',this.save_cache)\t\t\t\t\t\n\t\t\t}\n\n\t\t\t\tthis.order_id = order_json.data\n\t\t\t\tconst pay_data=await this.$api.http.post('order/pay/pre_order', {\n\t\t\t\t\tid: order_json.data\n\t\t\t\t}).then(res => {\n\t\t\t\t\tconsole.log('pay:', res)\n\t\t\t\t\treturn res\n\t\t\t\t})\t\t\t\t\n\t\t\t\tawait this.pay(pay_data)  \n\n\n\n\n\t\t},\n\t\t//公众号支付\n\t\twxPay(json) {\n\t\t\tif (typeof WeixinJSBridge == \"undefined\") { \n\t\t\t\tif (document.addEventListener) {\n\t\t\t\t\tdocument.addEventListener(\"WeixinJSBridgeReady\", jsApiCall, false);\n\t\t\t\t} else if (document.attachEvent) {\n\t\t\t\t\tdocument.attachEvent(\"WeixinJSBridgeReady\", jsApiCall);\n\t\t\t\t\tdocument.attachEvent(\"onWeixinJSBridgeReady\", jsApiCall);\n\t\t\t\t}\n\t\t\t} else { \n\t\t\t    this.jsApiCall(json);\n\t\t\t}\n\t\t},\n\t\tjsApiCall(json) { \n\t\t\tconst that = this; \n\t\t\tWeixinJSBridge.invoke(\"getBrandWCPayRequest\", json, function(res) { \n\t\t\t  WeixinJSBridge.log('a:',res.err_msg); \n\t\t\t  if (res.err_msg == \"get_brand_wcpay_request:ok\") {\n\t\t\t\tthat.$api.msg(\"支付成功!\");\n\t\t\t  } else if (res.err_msg == \"get_brand_wcpay_request:cancel\") {\n\t\t\t\tthat.$api.msg(\"取消支付\");\n\t\t\t  } else {\n\t\t\t\tthat.$api.msg(\"支付失败\");\n\t\t\t  }\n\t\t\t  setTimeout(() => {\n\t\t\t\t  uni.redirectTo({\n\t\t\t\t  \turl: '/pages/order/order'\n\t\t\t\t  });\n\t\t\t  }, 1000);\n\t\t\t});\n\t\t},\n\t\t//支付\n\t\tpay(data) { \n\t\t\tconst order_id = this.order_id\n\t\t    uni.requestPayment({\n\t\t    \tprovider:\"wxpay\", \n\t\t    \ttimeStamp: data.timeStamp,\n\t\t    \tnonceStr: data.nonceStr,\n\t\t    \tpackage: data.package,\n\t\t    \tsignType: data.signType,\n\t\t    \tpaySign: data.paySign,\n\t\t    \tsuccess: function (res) {  \n\t\t    \t\tconsole.log('success:' + JSON.stringify(res)); \n\t\t    \t\tuni.redirectTo({\n\t\t    \t\t\turl:'/pages/user/myorder/myorder?id='+order_id\n\t\t    \t\t})\n\t\t    \t},\n\t\t    \tfail: function (err) { \t\t\t\t\t\t\n\t\t    \t\tconsole.log('fail:' + JSON.stringify(err)); \n\t\t    \t\tuni.redirectTo({\n\t\t    \t\t\turl:'/pages/user/myorder/myorder?id='+order_id\n\t\t    \t\t})\n\t\t    \t}\n\t\t    });\n\t\t},\t\t\t\n\t\t\n\t\t\n\t},\n\tonPullDownRefresh() {\n\t\tsetTimeout(function() {\n\t\t\tuni.stopPullDownRefresh();\n\t\t}, 2000);\n\t}\n}\n","import mod from \"-!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../安装包/0环境+开发/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}